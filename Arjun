public class PC {

    static class Q {
        int n;
        boolean available = false;

        synchronized void put(int n) {
            while (available) {
                try { wait(); } catch (InterruptedException e) {}
            }
            this.n = n;
            available = true;
            System.out.println("Put: " + n);
            notifyAll();
        }

        synchronized int get() {
            while (!available) {
                try { wait(); } catch (InterruptedException e) {}
            }
            available = false;
            System.out.println("Got: " + n);
            notifyAll();
            return n;
        }
    }

    static class Producer extends Thread {
        Q q;
        Producer(Q q) { this.q = q; }

        public void run() {
            for (int i = 1; i <= 5; i++)
                q.put(i);
        }
    }

    static class Consumer extends Thread {
        Q q;
        Consumer(Q q) { this.q = q; }

        public void run() {
            for (int i = 1; i <= 5; i++)
                q.get();
        }
    }

    public static void main(String[] args) {
        Q q = new Q();
        new Producer(q).start();
        new Consumer(q).start();
    }
}
